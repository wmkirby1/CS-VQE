apiVersion: io.orquestra.workflow/1.0.0
name: cs-vqe-test

imports:
- name: cs-vqe-component
  type: git
  parameters:
    repository: "https://github.com/TimWeaving/CS-VQE.git"
    branch: "dev"

steps:
#- name: get-ham-data
#  config:
#    runtime:
#      language: python3
#      imports: [cs-vqe-component]
#      parameters:
#        file: cs-vqe-component/utils/orquestra/get_ham_data.py
#        function: get_ham_data
#  inputs:
#    - speciesname: 'H3+_STO-3G_SINGLET'
#      type: string
#  outputs:
#  - name: speciesname
#    type: string
#  - name: ham
#    type: dict
#  - name: uccsd
#    type: dict
#  - name: num_qubits
#    type: int

- name: extract-noncon
  config:
    runtime:
      language: python3
      imports: [cs-vqe-component]
      parameters:
        file: cs-vqe-component/utils/orquestra/extract_noncon.py
        function: extract_noncon
  inputs:
    - ham: {"IIIIII": -0.3072011371340725, "ZIIIII": 0.2132840286163142, "IZIIII": 0.21328402861631418, "IIZIII": -0.11363228842158378, "IIIZII": -0.11363228842158381, "IIIIZI": -0.11363254995095788, "IIIIIZ": -0.11363254995095788, "ZZIIII": 0.14671371888181678, "YXXYII": 0.036006913080308685, "YYXXII": -0.036006913080308685, "XXYYII": -0.036006913080308685, "XYYXII": 0.036006913080308685, "YXIIXY": 0.036006913866771746, "YYIIXX": -0.036006913866771746, "XXIIYY": -0.036006913866771746, "XYIIYX": 0.036006913866771746, "ZIZIII": 0.10666963571099214, "ZIIZII": 0.14267654879130082, "YZYZII": -0.02382124592510556, "XZXZII": -0.02382124592510556, "YZZXXY": -0.023821238064299408, "YZZYXX": 0.023821238064299408, "XZZXYY": 0.023821238064299408, "XZZYYX": -0.023821238064299408, "ZIIIZI": 0.10666965888151225, "ZIIIIZ": 0.142676572748284, "YZYIIZ": 0.023821256453232607, "XZXIIZ": 0.023821256453232607, "IZZIII": 0.14267654879130082, "IYIYII": -0.02382124592510556, "IXIXII": -0.02382124592510556, "IYXIXY": 0.023821238064299408, "IYYIYY": 0.023821238064299408, "IXXIXX": 0.023821238064299408, "IXYIYX": 0.023821238064299408, "IZIZII": 0.10666963571099214, "IZIIZI": 0.142676572748284, "IYZYZI": 0.023821256453232607, "IXZXZI": 0.023821256453232607, "IZIIIZ": 0.10666965888151225, "IIZZII": 0.1636188593762816, "IIYXXY": 0.018908492435760014, "IIYYXX": -0.018908492435760014, "IIXXYY": -0.018908492435760014, "IIXYYX": 0.018908492435760014, "IIZIZI": 0.10689334239427412, "IIZIIZ": 0.12580183483003413, "YZYIII": -1.4458530135305625e-08, "XZXIII": -1.4458530135305625e-08, "IIIZZI": 0.12580183483003413, "IIIZIZ": 0.10689334239427412, "IIIIZZ": 0.16361886988259655}
      type: dict
  outputs:
  - name: noncon
    type: data_type

- name: ansatz-circuit
  passed: [extract-noncon]
  config:
    runtime:
      language: python3
      imports: [cs-vqe-component]
      parameters:
        file: cs-vqe-component/utils/orquestra/ansatz_ciruit.py
        function: ansatz_circuit
  inputs:
    - ham: {"IIIIII": -0.3072011371340725, "ZIIIII": 0.2132840286163142, "IZIIII": 0.21328402861631418, "IIZIII": -0.11363228842158378, "IIIZII": -0.11363228842158381, "IIIIZI": -0.11363254995095788, "IIIIIZ": -0.11363254995095788, "ZZIIII": 0.14671371888181678, "YXXYII": 0.036006913080308685, "YYXXII": -0.036006913080308685, "XXYYII": -0.036006913080308685, "XYYXII": 0.036006913080308685, "YXIIXY": 0.036006913866771746, "YYIIXX": -0.036006913866771746, "XXIIYY": -0.036006913866771746, "XYIIYX": 0.036006913866771746, "ZIZIII": 0.10666963571099214, "ZIIZII": 0.14267654879130082, "YZYZII": -0.02382124592510556, "XZXZII": -0.02382124592510556, "YZZXXY": -0.023821238064299408, "YZZYXX": 0.023821238064299408, "XZZXYY": 0.023821238064299408, "XZZYYX": -0.023821238064299408, "ZIIIZI": 0.10666965888151225, "ZIIIIZ": 0.142676572748284, "YZYIIZ": 0.023821256453232607, "XZXIIZ": 0.023821256453232607, "IZZIII": 0.14267654879130082, "IYIYII": -0.02382124592510556, "IXIXII": -0.02382124592510556, "IYXIXY": 0.023821238064299408, "IYYIYY": 0.023821238064299408, "IXXIXX": 0.023821238064299408, "IXYIYX": 0.023821238064299408, "IZIZII": 0.10666963571099214, "IZIIZI": 0.142676572748284, "IYZYZI": 0.023821256453232607, "IXZXZI": 0.023821256453232607, "IZIIIZ": 0.10666965888151225, "IIZZII": 0.1636188593762816, "IIYXXY": 0.018908492435760014, "IIYYXX": -0.018908492435760014, "IIXXYY": -0.018908492435760014, "IIXYYX": 0.018908492435760014, "IIZIZI": 0.10689334239427412, "IIZIIZ": 0.12580183483003413, "YZYIII": -1.4458530135305625e-08, "XZXIII": -1.4458530135305625e-08, "IIIZZI": 0.12580183483003413, "IIIZIZ": 0.10689334239427412, "IIIIZZ": 0.16361886988259655}
      type: dict
    - terms_noncon: ((extract-noncon.noncon))
      type: data_type
    - anz_op: {"YYYXII": -0.012181243403146016, "YXYYII": 0.012181243403146016, "XXYXII": 0.012181243403146016, "XYYYII": 0.012181243403146016, "YXXXII": -0.012181243403146016, "YYXYII": -0.012181243403146016, "XYXXII": -0.012181243403146016, "XXXYII": 0.012181243403146016, "YYIIYX": -0.012181235170586887, "YXIIYY": 0.012181235170586887, "XXIIYX": 0.012181235170586887, "XYIIYY": 0.012181235170586887, "YXIIXX": -0.012181235170586887, "YYIIXY": -0.012181235170586887, "XYIIXX": -0.012181235170586887, "XXIIXY": 0.012181235170586887}
      type: dict
    - num_qubits: 6
      type: int
    - num_sim_q: 3
      type: int
  outputs:
  - name: anz_circ
    type: QuantumCircuit


types:
 - data_type
 - dict
 - list
 - QuantumCircuit